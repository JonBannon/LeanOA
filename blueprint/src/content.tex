% In this file you should put the actual content of the blueprint.
% It will be used both by the web and the print version.
% It should *not* include the \begin{document}
%
% If you want to split the blueprint content into several files then
% the current file can be a simple sequence of \input. Otherwise It
% can start with a \section or \chapter for instance.

\section{Introduction}

\section{Continuous functional calculus}

\begin{definition}[Continuous functional calculus]
  \label{def:continuous_functional_calculus}
  \lean{ContinuousFunctionalCalculus}
  \mathlibok
  A $*$-$R$-algebra is said to have a continuous functional calculus for elements satisfying a predicate $p$ if,
  for each $a$ satisfying $p$, there is a $*$-homomorphism $\phi_a : C(\spectrum[R]{a}, R) \to A$ sending the identity function to $a$, and which is a closed embedding.
  Moreover, $\spectrum[R]{a}$ is compact and nonempty, and $\phi_a$ satisfies the spectral mapping property (i.e., $\spectrum[R]{\phi_a(f)} = f(\spectrum[R]{a})$).
\end{definition}

\begin{definition}[Non-unital continuous functional calculus]
  \label{def:nonunital_continuous_functional_calculus}
  \lean{ContinuousFunctionalCalculus}
  \mathlibok
  A non-unital $*$-$R$-algebra is said to have a non-unital continuous functional calculus for elements satisfying a predicate $p$ if,
  for each $a$ satisfying $p$, there is a non-unital $*$-homomorphism $\phi_a : C(\quasispectrum[R]{a}, R)_0 \to A$ (here $C(\quasispectrum[R]{a}, R)_0$ is the collection of functions vanishing at zero on the quasispectrum) sending the identity function to $a$, and which is a closed embedding.
  Moreover, $\quasispectrum[R]{a}$ is compact (it's always nonempty because it contains $0$), and $\phi'_a$ satisfies the spectral mapping property (i.e., $\quasispectrum[R]{\phi'_a(f)} = f(\quasispectrum[R]{a})$).
\end{definition}

\begin{definition}
  \label{def:cfc}
  \lean{cfc}
  \mathlibok
  \uses{def:continuous_functional_calculus}
  Given $a \in A$ satisfying $p$ and $f : R → R$ continuous on $\spectrum[R]{a}$, we define $f(a) := \phi'_a(f)$ (and we give it a junk value of zero when either $a$ does not satisfy $p$ or $f$ is not continuous on the spectrum).
\end{definition}

\begin{definition}
  \label{def:cfcₙ}
  \lean{cfcₙ}
  \mathlibok
  \uses{def:nonunital_continuous_functional_calculus}
  Given $a \in A$ satisfying $p$ and $f : R → R$ continuous on $\spectrum[R]{a}$ and $f(0) = 0$, we define $f(a) := \phi'_a(f)$ (and we give it a junk value of zero when and of the conditions on $a$ and $f$ are not met).
\end{definition}

\begin{theorem}
  \label{thm:gelfand_cfc_iso}
  \lean{continuousFunctionalCalculus}
  \mathlibok
  For every normal element $a$ in a unital $C^*$-algebra $A$ there is a $*$-isomorphism between $C(\spectrum{a}, ℂ)$ and the $C^*$-subalgebra of $A$ generated by $a$.
\end{theorem}

\begin{proof}
  \leanok
  Use the Gelfand transform.
\end{proof}

\begin{theorem}
  \label{thm:cstar_algebra_cfc}
  \lean{IsStarNormal.instContinuousFunctionalCalculus}
  \mathlibok
  \uses{def:continuous_functional_calculus, thm:gelfand_cfc_iso}
  Every unital $C^*$-algebra has a continuous functional calculus for normal elements.
\end{theorem}

\begin{proof}
  \leanok
  \uses{thm:gelfand_cfc_iso}
  Compose the $*$-isomorphism of Theorem~\ref{thm:gelfand_cfc_iso}, which is an isometry because its an isomorphism of $C^*$-algebras, with the inclusion of $C^{*}_1(a)$ (the unital $C^*$-subalgebra generated by $a$) into $A$. The latter is also an isometry and therefore a closed embedding.
\end{proof}

\begin{theorem}
  \label{thm:cfc_complex_to_real}
  \lean{IsSelfAdjoint.instContinuousFunctionalCalculus}
  \mathlibok
  \uses{def:continuous_functional_calculus}
  Every unital $*$-algebra $A$ with a continuous functional calculus for normal elements over $\mathbb{C}$ has a continuous functional calculus for self-adjoint elements over $\mathbb{R}$.
\end{theorem}

\begin{proof}
  \leanok
  \uses{def:continuous_functional_calculus}
  Since self-adjoint elements are normal, the continuous functional calculus for normal elements over $\mathbb{C}$ with its spectral mapping property guarantees that the $\mathbb{C}$-spectrum of $a \in A$ normal is actually contained in $\mathbb{R}$, and so coincides with the $\mathbb{R}$-spectrum of $a$.
  Therefore, the map which sends $f \in C(\spectrum[\mathbb{R}]{a}, \mathbb{R})$ to $\hat f \in C(\spectrum[\mathbb{C}]{a}, \mathbb{C})$ is a $*$-homomorphism, and composing it with $\phi_a$ yields the desired $*$-homomorphism for the contnuous functional calculus over $\mathbb{R}$ for self-adjoint elements.
\end{proof}

\begin{theorem}
  \label{thm:cfc_real_to_nnreal}
  \lean{Nonneg.instContinuousFunctionalCalculus}
  \mathlibok
  \uses{def:continuous_functional_calculus, thm:cfc_complex_to_real}
  Every unital $*$-algebra $A$ which is a $*$-ordered ring (i.e., nonnegative elements are those of the form $x^* x$) with the property that nonnegative elements have nonnegative spectrum, and with a continuous functional calculus for self-adjoint elements over $\mathbb{R}$ has a continuous functional calculus for self-adjoint elements over $\mathbb{R}_{\ge 0}$.
\end{theorem}

\begin{proof}
  \leanok
  \uses{def:continuous_functional_calculus, thm:cfc_complex_to_real}
  Omitted.
\end{proof}


\section{Products of nonnegative elements are nonnegative}

\chapter{Sakai's Book}

\section{Definitions of $C^{*}$--algebras and $W^{*}$--algebras}

\begin{definition}
  \label{def:CStarAlgebra}
  \mathlibok
  A Banach $*$--algebra $\mathcal{A}$ is called a $C^{*}$--algebra if it satisfies $\|x^{*}x\|=\|x\|^2$ for $x\in \mathcal{A}$.
\end{definition}

\begin{definition}
  \label{def:WStarAlgebra}
  \uses{def:CStarAlgebra}
  \mathlibok
  A $C^{*}$--algebra $\mathcal{M}$ is called a $W^{*}$--algebra if it is a dual space as a Banach Space (i.e., if there exists 
  a Banach space $\mathcal{M}_{*}$ such that $(\mathcal{M}_{*})^{*}=\mathcal{M}$, where $(\mathcal{M}_{*})^{*}$ is the dual Banach
  space of $\mathcal{M_{*}}$). We call such a Banach Space $\mathcal{M_{*}}$ the predual of $\mathcal{M}$.
\end{definition}